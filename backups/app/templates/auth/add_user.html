{% extends "base.html" %}
{% block title %}{{ t('users_new') }}{% endblock %}
{% block page_title %}{{ t('users_new') }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white"><h5 class="mb-0"><i class="bi bi-person-plus"></i> {{ t('users_create_title') }}</h5></div>
            <div class="card-body">
                <form method="POST">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label fw-bold">{{ t('auth_username') }} <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" name="username" required pattern="[a-zA-Z0-9_]+" title="{{ t('auth_username_helper') }}">
                            <div class="form-text">{{ t('auth_username_helper') }}</div>
                        </div>
                        <div class="col-md-6"><label class="form-label fw-bold">{{ t('profile_display_name') }}</label><input type="text" class="form-control" name="display_name" placeholder="Ex: Jean Dupont"></div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6"><label class="form-label fw-bold">{{ t('profile_email') }}</label><input type="email" class="form-control" name="email" placeholder="utilisateur@exemple.com"></div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold">{{ t('users_role') }} <span class="text-danger">*</span></label>
                            <select class="form-select" name="role" required>
                                <option value="viewer">{{ t('users_role_viewer') }}</option>
                                <option value="operator">{{ t('users_role_operator') }}</option>
                                <option value="admin">{{ t('users_role_admin') }}</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label fw-bold">{{ t('auth_password') }} <span class="text-danger">*</span></label>
                            <input type="password" class="form-control" name="password" required minlength="6">
                            <div class="form-text">{{ t('auth_password_helper') }}</div>
                        </div>
                        <div class="col-md-6"><label class="form-label fw-bold">{{ t('profile_confirm_password') }} <span class="text-danger">*</span></label><input type="password" class="form-control" name="confirm_password" required></div>
                    </div>
                    
                    <div class="form-check mb-4">
                        <input type="checkbox" class="form-check-input" name="is_active" id="is_active" checked>
                        <label class="form-check-label" for="is_active">{{ t('users_active_account') }}</label>
                    </div>
                    
                    <div class="d-flex justify-content-end gap-2">
                        <a href="{{ url_for('auth.users') }}" class="btn btn-secondary">{{ t('btn_cancel') }}</a>
                        <button type="submit" class="btn btn-primary"><i class="bi bi-check-lg"></i> {{ t('btn_create') }}</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
