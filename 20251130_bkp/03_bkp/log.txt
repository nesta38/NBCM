Attaching to nbcm-app
[36mnbcm-app    |[0m [2025-11-29 09:54:23 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:23 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:23 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:23 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:23 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:24] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:24] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:24] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:24] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:24] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:24] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:24] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:24] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [1] [ERROR] Worker (pid:7) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:24 +0100] [1] [ERROR] Worker (pid:8) exited with code 3
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 209, in run
[36mnbcm-app    |[0m     self.sleep()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 360, in sleep
[36mnbcm-app    |[0m     ready = select.select([self.PIPE[0]], [], [], 1.0)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 527, in reap_workers
[36mnbcm-app    |[0m     self.log.error('Worker (pid:%s) exited with code %s', wpid, exitcode)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/glogging.py", line 272, in error
[36mnbcm-app    |[0m     self.error_log.error(msg, *args, **kwargs)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1518, in error
[36mnbcm-app    |[0m     self._log(ERROR, msg, args, **kwargs)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1632, in _log
[36mnbcm-app    |[0m     record = self.makeRecord(self.name, level, fn, lno, msg, args,
[36mnbcm-app    |[0m              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1601, in makeRecord
[36mnbcm-app    |[0m     rv = _logRecordFactory(name, level, fn, lno, msg, args, exc_info, func,
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 337, in __init__
[36mnbcm-app    |[0m     self.msecs = int((ct - int(ct)) * 1000) + 0.0  # see gh-89047
[36mnbcm-app    |[0m                            ^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m During handling of the above exception, another exception occurred:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 662, in kill_worker
[36mnbcm-app    |[0m     os.kill(pid, sig)
[36mnbcm-app    |[0m ProcessLookupError: [Errno 3] No such process
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m During handling of the above exception, another exception occurred:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/bin/gunicorn", line 8, in <module>
[36mnbcm-app    |[0m     sys.exit(run())
[36mnbcm-app    |[0m              ^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 67, in run
[36mnbcm-app    |[0m     WSGIApplication("%(prog)s [OPTIONS] [APP_MODULE]").run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 236, in run
[36mnbcm-app    |[0m     super().run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 72, in run
[36mnbcm-app    |[0m     Arbiter(self).run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 229, in run
[36mnbcm-app    |[0m     self.halt(reason=inst.reason, exit_status=inst.exit_status)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 342, in halt
[36mnbcm-app    |[0m     self.stop()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 393, in stop
[36mnbcm-app    |[0m     self.kill_workers(sig)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 652, in kill_workers
[36mnbcm-app    |[0m     self.kill_worker(pid, sig)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 668, in kill_worker
[36mnbcm-app    |[0m     self.cfg.worker_exit(self, worker)
[36mnbcm-app    |[0m     ^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/config.py", line 67, in __getattr__
[36mnbcm-app    |[0m     return self.settings[name].get()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/config.py", line 308, in get
[36mnbcm-app    |[0m     def get(self):
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:25] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:25] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:25] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:25] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [1] [ERROR] Worker (pid:7) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:25 +0100] [1] [ERROR] Worker (pid:8) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [1] [ERROR] Shutting down: Master
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [1] [ERROR] Reason: Worker failed to boot.
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:26 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:27] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:27] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:27] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:27] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:27] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:27] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:27] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:27] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [1] [ERROR] Worker (pid:7) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [1] [ERROR] Worker (pid:8) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:27 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 209, in run
[36mnbcm-app    |[0m     self.sleep()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 360, in sleep
[36mnbcm-app    |[0m     ready = select.select([self.PIPE[0]], [], [], 1.0)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m During handling of the above exception, another exception occurred:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/bin/gunicorn", line 8, in <module>
[36mnbcm-app    |[0m     sys.exit(run())
[36mnbcm-app    |[0m              ^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 67, in run
[36mnbcm-app    |[0m     WSGIApplication("%(prog)s [OPTIONS] [APP_MODULE]").run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 236, in run
[36mnbcm-app    |[0m     super().run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 72, in run
[36mnbcm-app    |[0m     Arbiter(self).run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 229, in run
[36mnbcm-app    |[0m     self.halt(reason=inst.reason, exit_status=inst.exit_status)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 342, in halt
[36mnbcm-app    |[0m     self.stop()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 396, in stop
[36mnbcm-app    |[0m     time.sleep(0.1)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:28] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:28] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:28] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:28] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:28] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:28] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:28] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:28] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [ERROR] Worker (pid:7) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [ERROR] Worker (pid:8) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [ERROR] Shutting down: Master
[36mnbcm-app    |[0m [2025-11-29 09:54:28 +0100] [1] [ERROR] Reason: Worker failed to boot.
[36mnbcm-app    |[0m [2025-11-29 09:54:29 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:29 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:29 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:29 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:29 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:30] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:30] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:30] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:30] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:30] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:30] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:30] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:30] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [1] [ERROR] Worker (pid:7) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [1] [ERROR] Worker (pid:8) exited with code 3
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 209, in run
[36mnbcm-app    |[0m     self.sleep()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 360, in sleep
[36mnbcm-app    |[0m     ready = select.select([self.PIPE[0]], [], [], 1.0)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m During handling of the above exception, another exception occurred:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/bin/gunicorn", line 8, in <module>
[36mnbcm-app    |[0m     sys.exit(run())
[36mnbcm-app    |[0m              ^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 67, in run
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:30 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m     WSGIApplication("%(prog)s [OPTIONS] [APP_MODULE]").run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 236, in run
[36mnbcm-app    |[0m     super().run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 72, in run
[36mnbcm-app    |[0m     Arbiter(self).run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 229, in run
[36mnbcm-app    |[0m     self.halt(reason=inst.reason, exit_status=inst.exit_status)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 342, in halt
[36mnbcm-app    |[0m     self.stop()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 396, in stop
[36mnbcm-app    |[0m     time.sleep(0.1)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:32] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:32] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:32] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:32] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:32] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:32] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:32] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:32] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:32 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:33 +0100] [1] [ERROR] Worker (pid:8) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:33 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:33 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:33 +0100] [1] [ERROR] Worker (pid:7) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:33 +0100] [1] [ERROR] Shutting down: Master
[36mnbcm-app    |[0m [2025-11-29 09:54:33 +0100] [1] [ERROR] Reason: Worker failed to boot.
[36mnbcm-app    |[0m [2025-11-29 09:54:36 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:36 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:36 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:36 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:36 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:36 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:36 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:37] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:37] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:37] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:37] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:37] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:37] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:37] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:37] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [1] [ERROR] Worker (pid:7) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [1] [ERROR] Worker (pid:10) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:37 +0100] [1] [ERROR] Worker (pid:8) exited with code 3
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 209, in run
[36mnbcm-app    |[0m     self.sleep()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 360, in sleep
[36mnbcm-app    |[0m     ready = select.select([self.PIPE[0]], [], [], 1.0)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 527, in reap_workers
[36mnbcm-app    |[0m     self.log.error('Worker (pid:%s) exited with code %s', wpid, exitcode)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/glogging.py", line 272, in error
[36mnbcm-app    |[0m     self.error_log.error(msg, *args, **kwargs)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1518, in error
[36mnbcm-app    |[0m     self._log(ERROR, msg, args, **kwargs)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1634, in _log
[36mnbcm-app    |[0m     self.handle(record)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1644, in handle
[36mnbcm-app    |[0m     self.callHandlers(record)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1706, in callHandlers
[36mnbcm-app    |[0m     hdlr.handle(record)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 978, in handle
[36mnbcm-app    |[0m     self.emit(record)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1114, in emit
[36mnbcm-app    |[0m     self.flush()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/logging/__init__.py", line 1094, in flush
[36mnbcm-app    |[0m     self.stream.flush()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m During handling of the above exception, another exception occurred:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/bin/gunicorn", line 8, in <module>
[36mnbcm-app    |[0m     sys.exit(run())
[36mnbcm-app    |[0m              ^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 67, in run
[36mnbcm-app    |[0m     WSGIApplication("%(prog)s [OPTIONS] [APP_MODULE]").run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 236, in run
[36mnbcm-app    |[0m     super().run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 72, in run
[36mnbcm-app    |[0m     Arbiter(self).run()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 229, in run
[36mnbcm-app    |[0m     self.halt(reason=inst.reason, exit_status=inst.exit_status)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 342, in halt
[36mnbcm-app    |[0m     self.stop()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 396, in stop
[36mnbcm-app    |[0m     time.sleep(0.1)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[36mnbcm-app    |[0m     self.reap_workers()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 530, in reap_workers
[36mnbcm-app    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[36mnbcm-app    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:44] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:44] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:44] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:44] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:44] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:44] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:44] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:44] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:44 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:45 +0100] [1] [ERROR] Worker (pid:8) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:45 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:45 +0100] [1] [ERROR] Worker (pid:7) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:45 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:45 +0100] [1] [ERROR] Shutting down: Master
[36mnbcm-app    |[0m [2025-11-29 09:54:45 +0100] [1] [ERROR] Reason: Worker failed to boot.
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:54:58] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:58] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:54:58] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:58] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:54:58] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:58] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:54:58] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:54:58] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:54:58 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:54:59 +0100] [1] [ERROR] Worker (pid:8) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:54:59 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:59 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:59 +0100] [1] [ERROR] Worker (pid:7) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:54:59 +0100] [1] [ERROR] Shutting down: Master
[36mnbcm-app    |[0m [2025-11-29 09:54:59 +0100] [1] [ERROR] Reason: Worker failed to boot.
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [10] [INFO] Booting worker with pid: 10
[36mnbcm-app    |[0m [2025-11-29 09:55:25] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:55:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:55:25] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:55:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:55:25] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:55:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:55:25] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:55:25] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [10] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [10] [INFO] Worker exiting (pid: 10)
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [ERROR] Worker (pid:7) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [ERROR] Worker (pid:9) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [ERROR] Worker (pid:10) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [ERROR] Worker (pid:8) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [ERROR] Shutting down: Master
[36mnbcm-app    |[0m [2025-11-29 09:55:25 +0100] [1] [ERROR] Reason: Worker failed to boot.
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [1] [INFO] Starting gunicorn 21.2.0
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [1] [INFO] Using worker: sync
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [6] [INFO] Booting worker with pid: 6
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [7] [INFO] Booting worker with pid: 7
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [8] [INFO] Booting worker with pid: 8
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [9] [INFO] Booting worker with pid: 9
[36mnbcm-app    |[0m [2025-11-29 09:56:17] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:56:17] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:56:17] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:56:17] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:56:17] INFO [scheduler_service.init_scheduler:110] Scheduler d√©j√† actif dans un autre processus
[36mnbcm-app    |[0m [2025-11-29 09:56:17] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [9] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [9] [INFO] Worker exiting (pid: 9)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [6] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [6] [INFO] Worker exiting (pid: 6)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [8] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [8] [INFO] Worker exiting (pid: 8)
[36mnbcm-app    |[0m [2025-11-29 09:56:17] ERROR [scheduler_service.init_scheduler:113] Erreur initialisation scheduler: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:56:17] INFO [__init__.create_app:80] NBCM V3.0 d√©marr√© en mode production
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [7] [ERROR] Exception in worker process
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m psycopg2.OperationalError: connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m The above exception was the direct cause of the following exception:
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m Traceback (most recent call last):
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 609, in spawn_worker
[36mnbcm-app    |[0m     worker.init_process()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 134, in init_process
[36mnbcm-app    |[0m     self.load_wsgi()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[36mnbcm-app    |[0m     self.wsgi = self.app.wsgi()
[36mnbcm-app    |[0m                 ^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 67, in wsgi
[36mnbcm-app    |[0m     self.callable = self.load()
[36mnbcm-app    |[0m                     ^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[36mnbcm-app    |[0m     return self.load_wsgiapp()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[36mnbcm-app    |[0m     return util.import_app(self.app_uri)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 371, in import_app
[36mnbcm-app    |[0m     mod = importlib.import_module(module)
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
[36mnbcm-app    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
[36mnbcm-app    |[0m   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
[36mnbcm-app    |[0m   File "/app/run.py", line 39, in <module>
[36mnbcm-app    |[0m     init_app()
[36mnbcm-app    |[0m   File "/app/run.py", line 27, in init_app
[36mnbcm-app    |[0m     db.create_all()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all
[36mnbcm-app    |[0m     self._call_for_binds(bind_key, "create_all")
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds
[36mnbcm-app    |[0m     getattr(metadata, op_name)(bind=engine)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
[36mnbcm-app    |[0m     bind._run_ddl_visitor(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3242, in _run_ddl_visitor
[36mnbcm-app    |[0m     with self.begin() as conn:
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/contextlib.py", line 137, in __enter__
[36mnbcm-app    |[0m     return next(self.gen)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3232, in begin
[36mnbcm-app    |[0m     with self.connect() as conn:
[36mnbcm-app    |[0m          ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3268, in connect
[36mnbcm-app    |[0m     return self._connection_cls(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
[36mnbcm-app    |[0m     Connection._handle_dbapi_exception_noconnection(
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2430, in _handle_dbapi_exception_noconnection
[36mnbcm-app    |[0m     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
[36mnbcm-app    |[0m     self._dbapi_connection = engine.raw_connection()
[36mnbcm-app    |[0m                              ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3292, in raw_connection
[36mnbcm-app    |[0m     return self.pool.connect()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 452, in connect
[36mnbcm-app    |[0m     return _ConnectionFairy._checkout(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1269, in _checkout
[36mnbcm-app    |[0m     fairy = _ConnectionRecord.checkout(pool)
[36mnbcm-app    |[0m             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 716, in checkout
[36mnbcm-app    |[0m     rec = pool._do_get()
[36mnbcm-app    |[0m           ^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 169, in _do_get
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 167, in _do_get
[36mnbcm-app    |[0m     return self._create_connection()
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 393, in _create_connection
[36mnbcm-app    |[0m     return _ConnectionRecord(self)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 678, in __init__
[36mnbcm-app    |[0m     self.__connect()
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 902, in __connect
[36mnbcm-app    |[0m     with util.safe_reraise():
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
[36mnbcm-app    |[0m     raise exc_value.with_traceback(exc_tb)
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 898, in __connect
[36mnbcm-app    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[36mnbcm-app    |[0m                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 637, in connect
[36mnbcm-app    |[0m     return dialect.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 616, in connect
[36mnbcm-app    |[0m     return self.loaded_dbapi.connect(*cargs, **cparams)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m   File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
[36mnbcm-app    |[0m     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
[36mnbcm-app    |[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[36mnbcm-app    |[0m sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "postgres" (172.21.0.2), port 5432 failed: FATAL:  password authentication failed for user "nbcm"
[36mnbcm-app    |[0m 
[36mnbcm-app    |[0m (Background on this error at: https://sqlalche.me/e/20/e3q8)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [7] [INFO] Worker exiting (pid: 7)
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [1] [ERROR] Worker (pid:9) exited with code 3
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [1] [ERROR] Worker (pid:7) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [1] [ERROR] Worker (pid:6) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:56:17 +0100] [1] [ERROR] Worker (pid:8) was sent SIGTERM!
[36mnbcm-app    |[0m [2025-11-29 09:56:18 +0100] [1] [ERROR] Shutting down: Master
[36mnbcm-app    |[0m [2025-11-29 09:56:18 +0100] [1] [ERROR] Reason: Worker failed to boot.
